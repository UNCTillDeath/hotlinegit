function setup(){var t=createCanvas(600,600);$("#restartbutton").bind("click",function(){$("#videogame-menu").hide(),setup()});var i=(windowWidth-width)/2,e=(windowHeight-height)/2;t.position(i,e),background(255,0,200),snake=new Snake,frameRate(20),placeBox()}function placeBox(){var t=floor(width/s),i=floor(height/s),e=floor(random(i)),a=floor(random(t));randbox=createVector(floor(a),floor(e)),randbox.mult(s)}function draw(){background(51),snake.update(),snake.show(),snake.eat(randbox)&&placeBox(),fill(255,0,100),rect(randbox.x,randbox.y,s,s)}function keyPressed(){keyCode===UP_ARROW&&1!=snake.yspeed?snake.changeDirection(0,-1):keyCode===DOWN_ARROW&&-1!=snake.yspeed?snake.changeDirection(0,1):keyCode===LEFT_ARROW&&1!=snake.xspeed?snake.changeDirection(-1,0):keyCode===RIGHT_ARROW&&-1!=snake.xspeed&&snake.changeDirection(1,0)}function mousePressed(){snake.total++}function Snake(){this.x=0,this.y=0,this.xspeed=1,this.yspeed=0,this.total=0,this.tail=[],this.eat=function(t){var i=dist(this.x,this.y,t.x,t.y);return 1>i?(this.total++,!0):void 0},this.kill=function(){if(this.x>width-11||this.y>height-11||this.x<0||this.y<0)return this.total=0,this.tail=[],void $("#videogame-menu").show();for(var t=0;t<this.tail.length;t++){var i=this.tail[t],e=dist(this.x,this.y,i.x,i.y);1>e&&(this.total=0,this.tail=[],$("#videogame-menu").show())}},this.changeDirection=function(t,i){this.xspeed=t,this.yspeed=i},this.update=function(){if(this.total===this.tail.length)for(var t=0;t<this.tail.length-1;t++)this.tail[t]=this.tail[t+1];this.tail[this.total-1]=createVector(this.x,this.y),this.x=this.x+this.xspeed*s,this.y=this.y+this.yspeed*s,this.kill(),this.x=constrain(this.x,0,width-s),this.y=constrain(this.y,0,height-s),$("#score").html("Score: "+this.total),0===this.total&&$("#encouragement").html("You Suck"),this.total>10&&$("#encouragement").html("You're still pretty bad"),this.total>20&&$("#encouragement").html("You're okay I guess, but this is probably your 10th time trying"),this.total>30&&$("#encouragement").html("Okay what bug did you find?"),this.total>100&&$("#encouragement").html("You should probably stop and go get a life")},this.show=function(){fill(234);for(var t=0;t<this.total;t++)rect(this.tail[t].x,this.tail[t].y,s,s);rect(this.x,this.y,s,s)}}var snake,s=20,randbox;